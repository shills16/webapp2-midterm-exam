<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Practical Exam</title>
</head>
<body>
    <script>
        //TASK 1: Simple synchronous Programming

        console.log('Hello, World!');

        console.log(1);
        console.log(2);
        console.log(3);
        console.log(4);

        // //TASK 2:Simple asynchronous code

        // console.log(1);
        // console.log(2);

        // setTimeout(() => {
        //     console.log('callback function is fired');
        // }, 5000);

        // console.log(3);
        // console.log(4);

        // //TASK 3: Simple Http Request using XMLHttpRequest

        // const request = new XMLHttpRequest();
        // request.addEventListener('readystatechange', () => {
        //     if (request.readyState === 4) {
        //         console.log(request.responseText);
        //     }
        // });

        // request.open('GET', 'https://jsonplaceholder.typicode.com/todos/1');
        // request.send();

        // //TASK 4: Using a simple callback, return a json response

        // const getTodos = (callback) => {
        //     const request = new XMLHttpRequest();
        //     request.addEventListener('readystatechange', () => {
        //         if (request.readyState === 4 && request.status === 200) {
        //             callback(undefined, request.responseText);
        //         } else if (request.readyState === 4) {
        //             callback('could not fetch data', undefined);
        //         }
        //     });

        //     request.open('GET', 'https://jsonplaceholder.typicode.com/todos/1');
        //     request.send();
        // }
        // getTodos((err, data) => {
        //     if (err) {
        //         console.log(err);
        //     } else {
        //         console.log(data);
        //     }
        // });

        //TASK 5: Using Promise, return a json response

        // const getTodos = () => {
        //     return new Promise((resolve, reject) => {
        //         const request = new XMLHttpRequest();
        //         request.addEventListener('readystatechange', () => {
        //             if (request.readyState === 4 && request.status === 200) {
        //                 const data = JSON.parse(request.responseText);
        //                 resolve(data);
        //             } else if (request.readyState === 4) {
        //                 reject('could not fetch data');
        //             }
        //         });

        //         request.open('GET', 'https://jsonplaceholder.typicode.com/todos/1'); //request.open('GET', 'https://jsonplaceholder.typicode.com/todosss/1'); -> rejected
        //         request.send();
        //     });
        // }
        // getTodos().then(data => {
        //     console.log('promised resolved:', data);
        // }).catch(err => {
        //     console.log('promise rejected:', err);
        // });

        //TASK 6: Using fetch, return a json response

        // fetch(('https://jsonplaceholder.typicode.com/todos/1')).then(response => {
        //     console.log('resolved:', response);
        //     return data = response.json();
        // }).then(data => {
        //     console.log('data:', data);
        // }).catch(err => { 
        //     console.log('rejected:', err);
        // });


        //TASK 7: OPTIONAL

        // const getTodos = async () => {
        //     const response = await
        //     fetch('https://jsonplaceholder.typicode.com/todos/1'); //fetch('bad-scheme//jsonplaceholder.typicode.com/todos/1'); --> rejected

        //     if (response.status !== 200) {
        //         throw new Error('cannot fetch the data');
        //     }
        //     const data = await response.json();
        //     return data;
        // }
        // getTodos()
        // .then(data => console.log('resolved:', data))
        // .catch(err => console.log('rejected:', err.message));

    </script>
</body>
</html>